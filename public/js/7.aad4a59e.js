(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{2417:function(t,e,a){"use strict";a("3e27")},"3e27":function(t,e,a){},"6aaf":function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));class s{emailValidator(t){return/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(`${t}`)||"email inválido"}passwordValidator(t){return t.length>7||"min 8 caracteres"}confirmPasswordValidator(t,e){return e.length>7?e==t||"senhas diferentes":"min 8 caracteres"}userNameValidator(t){return t.length>3||"Nome inválido"}}},a468:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center"},[a("div",{staticClass:"q-pa-md"}),a("div",{staticClass:"row"},[a("div",{staticClass:"col"}),a("q-card",{staticClass:"col-12 col-md-3"},[a("q-card-section",[a("div",{staticClass:"title"},[t._v("Login")]),a("q-form",{on:{submit:t.login}},[a("div",{staticClass:"column"},[a("q-input",{attrs:{outlined:"",label:"Email",rules:[function(e){return t.validations.emailValidator(e)}]},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("q-input",{attrs:{outlined:"",label:"Senha",type:"password",rules:[function(e){return t.validations.passwordValidator(e)}]},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t.loading?a("q-btn",{attrs:{color:"primary"}},[a("q-circular-progress",{attrs:{indeterminate:"",color:"white",size:"20px"}})],1):a("q-btn",{attrs:{color:"primary",type:"submit",label:"Confirmar"}})],1)])],1)],1),a("div",{staticClass:"col"})],1)])},i=[],n=a("60a3"),o=a("6aaf"),r=function(t,e,a,s){var i,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,a):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(t,e,a,s);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(o=(n<3?i(o):n>3?i(e,a,o):i(e,a))||o);return n>3&&o&&Object.defineProperty(e,a,o),o},l=function(t,e,a,s){function i(t){return t instanceof a?t:new a((function(e){e(t)}))}return new(a||(a=Promise))((function(a,n){function o(t){try{l(s.next(t))}catch(e){n(e)}}function r(t){try{l(s["throw"](t))}catch(e){n(e)}}function l(t){t.done?a(t.value):i(t.value).then(o,r)}l((s=s.apply(t,e||[])).next())}))};let c=class extends n["c"]{constructor(){super(...arguments),this.email="",this.password="",this.validations=new o["a"],this.loading=!1}login(){return l(this,void 0,void 0,(function*(){this.loading=!0;try{const t=yield this.$axios.post("/sign",{email:this.email,password:this.password});this.$q.notify({message:t.data.message,color:"green"});const e=t.data;yield localStorage.setItem("user",JSON.stringify(e)),yield localStorage.setItem("token",e.token),this.$router.push({name:"notes"})}catch(t){try{this.$q.notify({message:t.response.data.message,color:"red-5"})}catch(e){this.$q.notify({message:"Ops. algo deu errado",color:"red-5"})}}this.loading=!1}))}};c=r([n["a"]],c);var d=c,u=d,f=(a("2417"),a("2877")),p=Object(f["a"])(u,s,i,!1,null,"6ca36008",null);e["default"]=p.exports}}]);